<script src="codemirror/lib/codemirror.js"></script>
<script src="clike.js"></script>
<script src="c.js"></script>
<script src="json.js"></script>
<link rel="stylesheet" href="codemirror/lib/codemirror.css">
<body>
<p>parsing demo</p>
</body>
<script type="text/javascript">
var editor = CodeMirror(document.body, {
                        value: "int main() {\n  return 0;\n}",
                        mode: "text/x-csrc",
                        lineNumbers: true,
                        onChange: parsec
                       });
function parsec() {
  var result;
  try { result = c.parse(editor.getValue()); }
  catch (err) { result = err.message; }
  var to = document.getElementById('parse');
  if(to == null) return;
  if(result != null)
    to.innerHTML = JSON.stringify(result, null, '  ');
  else 
    to.innerHTML = "error";
}
</script>
<pre id="parse">
</pre>
<script type="text/javascript">
parsec();
</script>
